# 支持B站视频分享链接的修改计划

## 1. 修改视频播放器结构
- 将HTML5 `video` 标签替换为 `iframe` 标签，用于嵌入B站视频
- 保留视频播放器容器和相关样式

## 2. 修改JavaScript代码
- 修改视频对象结构，支持B站视频链接
- 添加B站视频链接解析功能，提取BV号
- 生成正确的B站视频嵌入URL
- 修改视频项点击事件处理函数

## 3. 具体实现步骤

### 3.1 更新HTML结构
- 将第185-187行的video标签替换为iframe标签
- 设置iframe的基本属性，如宽度、高度、边框等
- 配置iframe的src属性为默认B站视频

### 3.2 修改视频数据结构
- 在现有videos数组中添加B站视频链接示例
- 确保每个视频对象包含chapter、title、url（B站链接）、duration和document属性

### 3.3 实现B站链接解析功能
- 添加一个函数，从B站分享链接中提取BV号
- 生成标准的B站嵌入URL格式：`https://player.bilibili.com/player.html?bvid=BVxxxxxx&page=1&high_quality=1&danmaku=0`

### 3.4 更新视频项点击事件
- 修改第280行的代码，不再直接设置video.src
- 而是设置iframe的src属性为解析后的B站嵌入URL
- 保留其他功能，如更新标题、激活状态、播放等

### 3.5 测试功能
- 确保点击视频列表中的B站视频项能够正确加载并播放
- 验证文档链接功能仍然正常工作
- 检查样式是否保持一致

## 4. 预期效果
- 页面加载时显示默认B站视频
- 点击视频列表中的任何视频项（包括B站视频）都能正常切换播放
- 保留原有的章节分组、视频标题、时长显示等功能
- 文档按钮功能保持不变